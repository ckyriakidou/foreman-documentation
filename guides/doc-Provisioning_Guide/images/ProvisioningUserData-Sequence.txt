title VMware Template Provisioning
participant User
participant Satellite
participant VCenter
participant Capsule X

participant VM

User --> Satellite:Provision VM in network X
Satellite --> VCenter:Create a VM from a template on port 443
VCenter --> VM: Clone VM from template
VM --> Capsule X: Call Back to Sat port 80 via Capsule X 8000
Capsule X --> Satellite: forward Userdata on port 80
Satellite --> Satellite: redirect to 443
VM -->Capsule X: Registers itself to Satellite
Capsule X -->Satellite: Forward VM registration to Satellite
